{"version":3,"sources":["../../src/models/GitBlob.js"],"names":["GitBlob","constructor","raw","_buffer","from","wrapped","concat","length","oid","_oid","zipped","deflate"],"mappings":";;;;;;AACA;;AACA;;;;AACA;;;;;;AAEe,MAAMA,OAAN,CAAc;AAC3B;;;;AAIAC,cAAaC,GAAb,CAAiB,mBAAjB,EAAsC;AACpC,SAAKC,OAAL,GAAe,eAAOC,IAAP,CAAYF,GAAZ,CAAf;AACD;AACD,SAAOE,IAAP,CAAaF,GAAb,CAAiB,mBAAjB,EAAsC;AACpC,WAAO,IAAIF,OAAJ,CAAYE,GAAZ,CAAP;AACD;AACDG,YAAW;AACT,WAAO,eAAOC,MAAP,CAAc,CAAC,eAAOF,IAAP,CAAa,QAAO,KAAKD,OAAL,CAAaI,MAAO,IAAxC,CAAD,EAA+C,KAAKJ,OAApD,CAAd,CAAP;AACD;AACDK,QAAO;AACL,SAAKC,IAAL,GAAY,KAAKA,IAAL,IAAa,sBAAO,KAAKJ,OAAL,EAAP,CAAzB,CADK,CAC2C;AAChD,WAAO,KAAKI,IAAZ;AACD;AACDC,WAAU;AACR,WAAO,eAAKC,OAAL,CAAa,KAAKN,OAAL,EAAb,CAAP;AACD;AApB0B;kBAARL,O","file":"GitBlob.js","sourcesContent":["//@flow\nimport { Buffer } from 'buffer'\nimport shasum from 'shasum'\nimport pako from 'pako'\n\nexport default class GitBlob {\n  /*::\n  _buffer : Buffer\n  _oid : string\n  */\n  constructor (raw /*: string|Buffer*/) {\n    this._buffer = Buffer.from(raw)\n  }\n  static from (raw /*: string|Buffer*/) {\n    return new GitBlob(raw)\n  }\n  wrapped () {\n    return Buffer.concat([Buffer.from(`blob ${this._buffer.length}\\0`), this._buffer])\n  }\n  oid () {\n    this._oid = this._oid || shasum(this.wrapped()) // memoize\n    return this._oid\n  }\n  zipped () {\n    return pako.deflate(this.wrapped())\n  }\n}\n"]}